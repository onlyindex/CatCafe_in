{% extends "admin/ad_base.html" %}
{% block title %}post manage{% endblock %}
{% block styles %}
    {{ super() }}
    <style>
        form {
            max-width: 120px;
        }

        span.post_status {
        {#font-size: 12px;#}{#color: #fff;#}{#background-color: #f09199;#}{#border: none;#}{#padding: 3px 5px;#}{#-moz-border-radius: 5px;#}{#-webkit-border-radius: 5px;#}{#border-radius: 5px;#}

        }

        h2 {
            color: #222;
        }

        a.post_title {
            color: #222;
        }


        .catalog_color {
            position: relative;
            top: 1px;
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #f09199;
        }

        .catalog_name {
            font-size: 12px;
        }

        .post_item_tag {
            font-size: 12px;
            color: #f09199;
            /* border: 1px solid #f09199 !important; */
            padding: 2px;
            margin-right: 6px;
            white-space: nowrap;
            border-radius: 5px;
            background-color: #f091991f;
        }

        .post_item_post {
            border-bottom: 1px solid #eaecef;
        }

        .delete_post_danger {
            font-size: 16px;
            color: red;
        }

        .post_item_time {

            float: right;
            font-size: 12px;
            color: #a0a0a0;
        }


        button.add_action {
            color: #fff;
            float: right;
        }

        ul.status li {
            padding: 16px 8px;
            margin-right: 16px;
            font-size: 14px;
            line-height: 1.5;
            color: #586069;
            text-align: center;
            border: 0;
            border-bottom: 2px solid transparent;
        }

        ul.status li span {
            display: inline-block;
            padding: 2px 5px;
            font-size: 12px;
            font-weight: 600;
            line-height: 1;
            color: #586069;
            background-color: rgba(27, 31, 35, .08);
            border-radius: 20px;
        }

        ul.status li a {
            color: #666
        }

        ul.status li.all_posts a.selected {
            border-bottom-color: #e36209;
        }

        .post_manger_header {
            border-bottom: 1px solid #e1e4e8 !important;
        }

        span.post_status {
            font-size: 12px;
            background: #F09199;
            color: #FFF;
            line-height: 100%;
            padding: 3px 5px;
            -moz-border-radius: 5px;
            -webkit-border-radius: 5px;
            border-radius: 5px;
            float: right;
        }


    </style>
{% endblock %}

{% block page_content %}
    <div>
        <div class="post_manger_header">
            <div>
                <h2>日志</h2>
                <button class="add_action" href="{{ url_for('admin.new_post') }}">添加日志</button>
            </div>
            <ul class="status">
                <li class="all_posts">
                    <a class="selected " href="#">日志</a><span>18,367</span>
                </li>
                <li class="show_posts">
                    <a href="#">已发布</a><span>1353</span>
                </li>
                <li class="draft_posts">
                    <a href="#">草稿箱</a><span>1353</span>
                </li>
                <li class="hide_posts">
                    <a href="#">垃圾箱</a><span>233</span>
                </li>

            </ul>

        </div>




        {% if posts %}

            {% for post in posts %}
                <div class="post_item_post">
                    <div class="post_item_title_status">
                        <a class="post_title" href="#">{{ post.post_title }}</a>
                        <span class="post_status">{{ post.post_status }}</span>
                    </div>
                    <div class="post_item_tags">
                        <div class="post_item_tag_list">
                            <a class="post_item_tag">
                                blog
                            </a>
                            <a class="post_item_tag">
                                about me
                            </a>
                            <a class="post_item_tag">
                                swiftUI
                            </a>
                        </div>
                    </div>
                    <div class="post_item_catalog">
                        <span class="catalog_color"></span>
                        <span class="catalog_name">{{ post.catalog_name }}</span>
                    </div>
                    <div>
                        <time class="post_item_time">{{ post.post_timestamp }}</time>
                        <div class="post_item_action">
                            <a id="edit_post" class="btn"
                               href="{{ url_for('admin.edit_post',post_id=post.post_id) }}">编辑</a>
                            <from method="post" action="{{ url_for('admin.del_post', post_id=post.post_id) }}">
                                <input class="delete_post_danger" type="submit" value="Delete"
                                       onclick="return confirm('Are you sure?');">
                            </from>
                            <a id="publish_post" class="btn"
                               href="{{ url_for('admin.renew_post',post_id=post.post_id) }}">发布</a>
                        </div>
                    </div>
                </div>












            {% endfor %}


            <table class="table_footer">
                <div class="pagination">
                    <a href="#">«</a>
                    <a href="#">‹</a>
                    <a href="#" class="selected">1</a>
                    <a href="#">2</a>
                    <a href="#">3</a>
                    <a href="#">4</a>
                    <a href="#">5</a>
                    <a href="#">›</a>
                    <a href="#">»</a>
                </div>
            </table>
        {% else %}
            No posts
        {% endif %}
{% endblock %}